[**HOME**](Home) > [**SNOWPLOW SETUP GUIDE**](SnowPlow setup guide) > [**Trackers**](choosing-a-tracker) > [**Javascript tracker**](Javascript-tracker-setup)

## Overview

This guide takes you through the process for integrating SnowPlow's JavaScript tracker into your website or web app.

## Before you get started...

### Setup your collector before setting up the Javascript tracker

Before you start integrating the Javascript tracking tags onto your website, we recommend that you complete the [collector setup](setting-up-a-collector). This is important as part of the Javascript setup involves wiring it in to your Collector, and this will not be possible if you have not setup your collector.)

### Decide how you want to implement the Javascript tracker

The exact integration steps required vary depending on whether:

1. You integrate SnowPlow tracking tags directly into your website, or through a tag management solution (like [Google Tag Manager] [gtm]). Our recommended approach is to use a tag management tool, and implement this as part of a SnowPlow integration, if you have not already done so.
2. Whether or not you use the Javascript tracker in a asyncronous or syncronous manner.

We recommend installing SnowPlow within a tag management solution because:

1. If the tag management integration is done correctly, you should be able to build out your SnowPlow integration, including capturing more custom events and variables, without having to change your `html`.
2. You will be able to upgrade your SnowPlow tags as new versions become available, again without changing the raw `html`.
3. SnowPlow is often used alongside other web analytics programmes, which will have their own tracking tags. Implementing a tag management solution means that you can be sure that all the different web analytics tracking tags are fired at the same time, which should help to minimise discrepencies between them.

The reasons listed above are all SnowPlow specific - there is a wealth of material online about the benefits of tag management solutions _in general_.

The following guide covers the process for integrating SnowPlow tracking tags directly onto your website. If you wish to integrate SnowPlow tags using a tag management platform, we have provided separate guides for:

* [Google Tag Manager](integrating-javascript-tags-with-google-tag-manager)
* [Qubit's OpenTag](integrating-javascript-tags-with-qubit-opentag)

In addition we recommend using the SnowPlow asyncronous tags. Doing so means that the loading of the SnowPlow tags will not cause site content to load more slowly, thereby providing a better experience for your users.

## Table of Contents

1. [Asynchronous integration](#async)
2. [Synchronous integration](#sync)
3. [Tracking more than Pageviews. (Event tracking, ecommerce tracking, social tracking...)](#events)
4. [Testing](#testing)

<a name="async"/>
## 1. Asynchronous integration

### 1.1 Installing the header script

To use `snowplow.js` in an 'async' manner, first add the following script into your website template's `<head>` section:

```html
<!-- SnowPlow starts plowing -->
<script type="text/javascript">
var _snaq = _snaq || [];

_snaq.push(['setCollectorCf', '{{CLOUDFRONT DOMAIN}}']);
_snaq.push(['trackPageView']);
_snaq.push(['enableLinkTracking']);

(function() {
var sp = document.createElement('script'); sp.type = 'text/javascript'; sp.async = true; sp.defer = true;
sp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://d1fc8wv8zag5ca.cloudfront.net/0.9.1/sp.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(sp, s);
})();
 </script>
<!-- SnowPlow stops plowing -->
```

#### 1.1.1 Configuring the header script: setting the Collector endpoint

You need to set the collector endpoint in the header script: this ensures that any data generated by the Javascript Tracker is sent to the Collector your setup as part of the previous stage in the setup process.

If you are using the [Cloudfront Collector](Setting up the Cloudfront Collector), you do so using the following line:

```javascript
_snaq.push(['setCollectorCf', '{{CLOUDFRONT DOMAIN}}']);
```

Simply substitude your Cloudfront domain in for the {{CLOUDFROUNT DOMAIN}} e.g.

```javascript
_snaq.push(['setCollectorCf', 'd1x5tduoxffdr7']);
```

If you are using another Collector type (e.g. the [Clojure Collector](setting-up-the-clojure-collector)) you will need to use an alternative `setCollectorUrl` function rather than the `setCollectorCf` to set the Collector endpoint:

```javascript
_snaq.push(['setCollectorUrl', '{{COLLECTOR ENDPOINT HERE}}']);
```

For example, if your collector is at `c.snplow.com` then your tag would contain the line:

```javascript
_snaq.push(['setCollectorUrl', 'c.snplow.com']);
```

#### 1.1.2 Configuring the header script: updating the reference to `sp.js`

The reference to `://d1fc8wv8zag5ca.cloudfront.net/0.9.1/sp.js'` loads `sp.js`, the SnowPlow Javascript tracker. The version loaded is the version [hosted by the SnowPlow team from our own Cloudfront subdomain](hosted-assets) (and provided free to the community). 

If you wish to host the SnowPlow JavaScript file yourself (see the guide to [[Self-hosting snowplow.js|Self hosting snowplow js]]), then you need to update the tag above, swapping your own Cloudfront `{{SUBDOMAIN}}` (the one from which you serve `sp.js` in for ours:

```javascript
sp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://{{SUBDOMAIN}}.cloudfront.net/sp.js';
```

<a name="sync"/>
## Synchronous integration

### Installing the header script

To use `snowplow.js` in a 'sync' manner, first add the following script into your website template's `<head>` section:

```html
<!-- SnowPlow starts plowing -->
<script type="text/javascript">
var spSrc = ('https:' == document.location.protocol ? 'https' : 'http') + '://d1fc8wv8zag5ca.cloudfront.net/0.9.1/sp.js';
document.write(unescape("%3Cscript src='" + spSrc + "' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var snowplowTracker = SnowPlow.getTrackerCf('{{CLOUDFRONT DOMAIN}}');
snowplowTracker.trackPageView();
snowplowTracker.enableLinkTracking();
} catch ( err ) {}
</script>
<!-- SnowPlow stops plowing -->
```

**Setting the {{CLOUDFRONT DOMAIN}} value** 

You must update `{{CLOUDFRONT DOMAIN}}` with the Cloudfront distribution details you created as part of the [collector setup](setting-up-cloudfront-collector). (If you are using a version of SnowPlow hosted by the SnowPlow team, we will provide you wiht an Cloudfront domain to enter.)  It will look something like `d3rkrsqld9gmqf`

If your CloudFront distribution's URL is `http://d1x5tduoxffdr7.cloudfront.net`, then update the appropriate line in your header script to look like this:

```javascript
var snowplowTracker = SnowPlow.getTrackerCf('d1x5tduoxffdr7');
```

**Updating the reference to `sp.js`**

The reference to `://d1fc8wv8zag5ca.cloudfront.net/0.9.1/sp.js'` loads `sp.js`, the SnowPlow Javascript tracker. The version loaded is the version [hosted by the SnowPlow team](hosted-assets) (and provided free to the community). 

If you are hosting your own SnowPlow JavaScript file (see the guide to [[Self-hosting snowplow.js|Self hosting snowplow js]]), then you need to update the tag above, swapping your own Cloudfront `{{SUBDOMAIN}}` (the one from which you serve `sp.js` in for ours:

```javascript
var spSrc = ('https:' == document.location.protocol ? 'https' : 'http') + '://{{SUBDOMAIN}}.cloudfront.net/sp.js';
```

**Understanding the tracking code**

To explain a few things about this synchronous tracking code:

* This code works with both HTTPS (i.e. SSL-secured) and HTTP pages
* The `trackPageView` command logs the page load 
* The `enableLinkTracking` command ensures SnowPlow enables clicks and download tracking. If this is not required, it can be removed or commented out

### Integrating event tracking

Having set up the synchronous tracking above, you can now add SnowPlow's synchronous event tracking into your website or webapp.

Here is an example of SnowPlow event tracking attached to a simple JavaScript action:

```html
<!-- Website event with SnowPlow tracking -->
<script type="text/javascript">
    function playVideo(){
        alert("Playing a video")
        snowplowTracker.trackEvent('Videos', 'Play', 'Fargo', 'French-subtitles', '320x200')
    }
</script>
```
The five arguments to the event tracking command may be broadly familiar to you from Google Analytics - however there are some small differences, so please refer to the section [tracking more than page views](#events) below for more information.

Any problems? Please consult the [Testing and troubleshooting](#tt) section at the bottom of this guide.

<a name="events"/>
## Tracking more than Pageviews. (Event tracking, ecommerce tracking, social tracking, campaign tracking.)

### Integrating event tracking

Having set up the asynchronous tracking above, you can now add SnowPlow's asynchronous event tracking into your website or webapp.

Here is an example of SnowPlow event tracking attached to a simple JavaScript action:

```html
<!-- Website event with SnowPlow tracking -->
<script type="text/javascript">
    function playVideo(){
        alert("Playing a video")
        _snaq.push(['trackEvent', 'Videos', 'Play', 'Fargo', 'French-subtitles','320x200']);
    }
</script>
```

The five arguments to the event tracking command may be broadly familiar to you from Google Analytics - however there are some small differences, so please refer to the section [tracking more than page views](#events) below for more information.

Any problems? Please consult the [Testing and troubleshooting](#tt) section at the bottom of this guide.

The SnowPlow Javascript tracker supports a rich set of tracking functions including [event tracking](javascript-tracker#wiki-events), [ecommerce tracking](javascript-tracker#wiki-ecommerce) and [social tracking](javascript-tracker#wiki-social). For details of how to implement the above, refer to the [[Javascript tracker]] section of the [Technical Documentation](snowplow-technical-documentation).

<a name="testing"/>
## Testing

_This section is common to both the synchronous and asynchronous integration approaches._

### Checking snowplow.js is working

You can 'kick the tyres' of `snowplow.js` with the example HTML pages available in [https://github.com/snowplow/snowplow/tree/master/1-trackers/javascript-tracker/examples/web](https://github.com/snowplow/snowplow/tree/master/1-trackers/javascript-tracker/examples/web) 

    snowplow/tracker/examples

Before running these HTML pages, you will make sure to update the `{{CLOUDFRONT DOMAIN}}` to your SnowPlow-supplied Cloudfront domain; if you are using a self-hosted `snowplow.js`, then update that in the HTML files too.

We recommend using Chrome's [Developer Tools] [chrome-dev-tools] or [Firebug] [firebug] for Firefox to check that SnowPlow's JavaScript tracking is working correctly. Here is what Chrome's Network panel looks like after loading the page and clicking each button once:

![network-pane] [network-pane]

Note the three successful (status code 200) `GET`s to `i`. The first of these was triggered by the page load, and then there is one `GET` each for the two user actions (button clicks) that we're tracking. 
If you have any problems getting this to run, please [contact] [contact] the **SnowPlow Analytics** team.

### Confirming that SnowPlow is logging correctly

If you are using the SnowPlow-hosted version of SnowPlow, then please [contact] [contact] the **SnowPlow Analytics** team to confirm that your event data is being successfully logged.

If you are self-hosting SnowPlow, then please proceed to the next section [[Setting up EMR]] to start testing (and working with) the SnowPlow data.

### Marketing campaign tracking

If you want SnowPlow to track inbound marketing campaigns you are running then [[learn how to do campaign tracking using SnowPlow|Tracking your marketing campaigns]].  

[ga-event-guide]: http://code.google.com/apis/analytics/docs/tracking/eventTrackerGuide.html
[chrome-dev-tools]: http://code.google.com/chrome/devtools/docs/overview.html
[firebug]: http://getfirebug.com/
[network-pane]: setup-guide/images/01_network_pane.png
[contact]: mailto:services@snowplowanalytics.com
[gtm]: http://www.google.com/tagmanager/