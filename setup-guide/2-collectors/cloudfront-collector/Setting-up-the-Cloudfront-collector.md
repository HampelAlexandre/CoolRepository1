## Introduction

The Cloudfront collector is the common collector employed by SnowPlow uses. It has a number of advantages:

1. Simple and robust (no moving parts). All the collector does is faithfully log `GET` requests from trackers. Because logging is done using the standard Amazon Cloudfront logging, it is incredibly reliable
2. Scalable. Because it has no moving parts, and is provided by Amazon's cloud infrastructure, the Cloudfront collector is incredibly scalable, and can comfortably handle billions of requests per day

## Setting up the Cloudfront collector: an overview

The basic process for setting up the Cloudfront collector is reasonably straightforward:

1. [Setup a bucket on Amazon S3 for the 1x1 tracking pixel](#bucket1) `ice.png`. This is the pixel that will be requested by every `GET` request made by the SnowPlow tracker.
2. [Upload the tracking pixel](#upload-pixel) to the bucket.
3. Create a bucket on S3 that will store the SnowPlow logs, generated by the Cloudfront collector
4. Create a Cloudfront distribution for serving the tracking pixel that is now stored in S3. This will ensure that the pixel is fetched very quickly (using Cloudfront's CDN) **and* crucially* we will use Cloudfront logging to record every request made of the tracking pixel. These requests will contain all the data passed to the collector from the tracker, appended to the `GET` request in the form of a query string. 
5. Setup Cloudfront logging to store the logs in the S3 bucket created in step 3


## Pre-requisites

If you want to self-host the tracking pixel, you will need the following:

* An account with [Amazon Web Services](http://aws.amazon.com/)
* S3 and Cloudfront enabled on your AWS account

Once you have the above, please read on...

<a name="bucket1" />
## Creating a bucket on S3 for the tracking pixel

Log into your AWS account on [console.aws.amazon.com](console.aws.amazon.com) and select **S3** from the list of services offered. (Under **Storage & Content Delivery**.) You should be presented with a screen like the one below:

[[/setup-guide/images/cloudfront-collector-setup-guide/s3.jpg]]

We need to create a new bucket to store the 1x1 tracking pixel. To do this, simply click on the **Create Bucket** button on the top left of the screen, just under the "Buckets" title:

[[/setup-guide/images/cloudfront-collector-setup-guide/s3-create-bucket.jpg]]

Enter a name for your bucket. (Note you wont be able to use `snwplw-static` itself, as every bucket name has to be globally unique, and we have just taken this one.)

Enter a bucket name and select a region. (The choice of region is not critical as the pixel will be served using Cloudfront. However, there are some privacy implications, especially for companies in the EU, that may mean you wish to select **Ireland** as your location: see [a note on privacy](#privacy) below).

**Do not** setup logging on this bucket. We will use Cloudfront, not S3, logging to record requests made for the tracking pixel.

Click the **Create** button. The new bucket should now be visible on the list of buckets on the left of the screen.

[[/setup-guide/images/cloudfront-collector-setup-guide/s3-bucket-created.jpg]]

<a name="upload-pixel" />
## Upload the tracking pixel




<a name="privacy" />
## A note on privacy


